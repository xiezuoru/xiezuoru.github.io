

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="go" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="go" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7. 互动媒体之智慧农场 &mdash; SIoT使用手册 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8. 互动媒体之龙舟竞赛" href="08_DragonboatRaces.html" />
    <link rel="prev" title="6. 互动游戏之联机足球对战" href="05_play.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> SIoT使用手册
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../1.about/index.html">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2.setup/index.html">安装和运行</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3.demo/index.html">客户端连接范例</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">典型应用案例</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01_temperature.html">1. 科学探究之一天的温度分布</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_heat_radiation.html">2. 科学探究之热辐射实验</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_measure.html">3. 科学探究之通用定时测量工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_dataview.html">4. 互动媒体之物联网数据呈现</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_Remotecontrol.html">5. 智能家居之远程控制</a></li>
<li class="toctree-l2"><a class="reference internal" href="05_play.html">6. 互动游戏之联机足球对战</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">7. 互动媒体之智慧农场</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">7.1. 准备工作</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">7.2. 步骤</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">7.3. 参考代码</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="08_DragonboatRaces.html">8. 互动媒体之龙舟竞赛</a></li>
<li class="toctree-l2"><a class="reference internal" href="09_subtitles.html">9. 互动媒体之弹幕效果演示</a></li>
<li class="toctree-l2"><a class="reference internal" href="10_vvboard.html">10. 科学探究：“观察”食盐在水中的溶解</a></li>
<li class="toctree-l2"><a class="reference internal" href="00_caselist.html">11. 更多案例（网络收集）</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../5.advanced/index.html">高级操作技巧</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6.attach/index.html">附录</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SIoT使用手册</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">典型应用案例</a> &raquo;</li>
        
      <li>7. 互动媒体之智慧农场</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/4.case/06_smartfarm.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>7. 互动媒体之智慧农场<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>光照是地球上生物赖以生存与繁衍的基础，作物的光合作用离不开光照，光照条件的好坏直接影响作物的产量和品质，现如今人工补光已经成为高效生产的重要手段，让农作物在光线不足的时候也能拥有需要的光照。</p>
<p>本项目我们将利用掌控板上的光线传感器和LED灯模拟实现智能农场中的补光功能，并结合SIoT和Mind+中的舞台模拟智能农场中的远程监控功能，让我们足不出户也可以在电脑上实时看见农场中的光线变化。针对此项目我们可以划分为两种应用场景，具体如下：</p>
<ol class="arabic simple">
<li><p>应用场景一：农场。利用掌控板实时采集光线值，并通过控制LED灯的亮灭实时对农作物补光。为了能够与远程端共享数据，可将采集到的数据上传至SIoT进行存储。</p></li>
<li><p>应用场景二：远程端。此时只需要一台电脑，不需要连接其他硬件。通过mind+软件实时模式下SIoT控制获得农场中掌控板上传的数据，配合舞台设计，实现光线值的显示以及昼夜交替的模拟场景效果。</p></li>
</ol>
<p>我们将通过两个应用场景进行实践解决智能农场补光的项目设计。</p>
<div class="section" id="id2">
<h2>7.1. 准备工作<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>1.硬件准备</p>
<p>掌控板及其连接线</p>
<img alt="../_images/smartfarm01.png" src="../_images/smartfarm01.png" />
<p>2.软件准备</p>
<p>(1)搭建SIoT服务器</p>
<p>直接双击点击与系统匹配的SIoT运行文件，屏幕会弹出一个黑色的CMD窗口，在配置中请不要关闭它。</p>
<img alt="../_images/smartfarm02.png" src="../_images/smartfarm02.png" />
<p>(2)登录SIoT平台</p>
<p>打开浏览器，输入url：<a class="reference external" href="http://localhost:8082">http://localhost:8082</a>。</p>
<img alt="../_images/smartfarm03.png" src="../_images/smartfarm03.png" />
</div>
<div class="section" id="id3">
<h2>7.2. 步骤<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>一、应用场景一：农场（掌控板采集光线）</p>
<p>此时掌控板需要脱离电脑使用SIoT，所以应使用Mind+的上传模式。</p>
<p>1.Mind+软件设置</p>
<p>打开Mind+软件（1.5.5及以上版本）：</p>
<p>（1）选择“上传模式”；</p>
<p>（2）点击“扩展”，在“主控板”下，点击选择“掌控板”；</p>
<p>（3）点击“扩展”，在“网络服务”下，点击选择“MQTT”和“WIFI”后点击“返回”。出现下图标记的内容证明选择成功！</p>
<img alt="../_images/smartfarm06.png" src="../_images/smartfarm06.png" />
<p>2.编写程序</p>
<p>（1）参考程序：</p>
<img alt="../_images/smartfarm07.png" src="../_images/smartfarm07.png" />
<img alt="../_images/smartfarm08.png" src="../_images/smartfarm08.png" />
<p>（2）点击上传到设备将程序下载到掌控板中。</p>
<p>3.功能实现</p>
<p>上传成功后可在SIoT网页端查看消息以及实时光线折线图，如下图：</p>
<img alt="../_images/smartfarm09.png" src="../_images/smartfarm09.png" />
<p>二、应用场景二：远程端（mind+实时模式）</p>
<p>为了能在远程端更直接的显示光线效果，在Mind+实时模式下可以对舞台进行设计模拟光线变化时昼夜交替的效果以及绘制光线值折线图。</p>
<p>1.Mind+软件设置</p>
<p>打开Mind+软件（1.5.5及以上版本）：</p>
<p>1、选择“实时模式”；</p>
<p>2、选择“功能模块”，点击选择“画笔”；</p>
<p>3、选择“网络服务”，点击选择“MQTT”后点击“返回”。</p>
<img alt="../_images/smartfarm10.png" src="../_images/smartfarm10.png" />
<img alt="../_images/smartfarm11.png" src="../_images/smartfarm11.png" />
<p>画笔在本项目中主要用来进行折线图的绘制，“MQTT”主要是将实时模式与SIoT进行通信实现读取掌控板中的光线值。</p>
<p>2.编写程序</p>
<p>（1）参考程序：</p>
<img alt="../_images/smartfarm12.png" src="../_images/smartfarm12.png" />
<img alt="../_images/smartfarm13.png" src="../_images/smartfarm13.png" />
<p>下面的程序需要在实时模式舞台中新建角色才能实现更换造型的效果（新建角色成功如下图），更换造型太阳和星星来区分昼夜。
在此项目因为在常规环境中，光线传感器的返回值一般为0，在本项目中设置的分界点为200，在项目实施中可通过手机手电筒照射在传感器上感受数值的变化并观察在舞台中的效果。</p>
<p>为了更清楚地展现昼夜交替的效果，新建的角色为太阳和星星，如下图：</p>
<img alt="../_images/smartfarm14.png" src="../_images/smartfarm14.png" />
<p>对应程序如下：</p>
<img alt="../_images/smartfarm15.png" src="../_images/smartfarm15.png" />
<p>为了更明显的感受到昼夜的变化，mind+机器人将会在晚上和白天出现在不同的位置并讲出当前环境以及光线值，具体程序如下图：</p>
<img alt="../_images/smartfarm16.png" src="../_images/smartfarm16.png" />
<p>（2）点击“绿旗标志”运行程序</p>
<p>程序和舞台设计结束后点击“绿旗标志”运行，则可在mind+实时模式舞台中看见光线值的折线图以及是白天还是傍晚。</p>
<p>3.功能实现</p>
<p>当光线值大于200，舞台将切换为白天，掌控板的显示屏将会显示“白天，光线充足”效果如下图：</p>
<img alt="../_images/smartfarm17.png" src="../_images/smartfarm17.png" />
<p>当光线值小于200，舞台将切换为黑夜，掌控板上的LED灯将被点亮进行补光，显示屏将会显示“晚上，需要补光”，效果如下图：</p>
<img alt="../_images/smartfarm18.png" src="../_images/smartfarm18.png" />
</div>
<div class="section" id="id4">
<h2>7.3. 参考代码<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/vvlink/SIoT/blob/master/examples/Mind+">https://github.com/vvlink/SIoT/blob/master/examples/Mind+</a>/智慧农场.sb3</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="08_DragonboatRaces.html" class="btn btn-neutral float-right" title="8. 互动媒体之龙舟竞赛" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="05_play.html" class="btn btn-neutral float-left" title="6. 互动游戏之联机足球对战" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, VVlink

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>