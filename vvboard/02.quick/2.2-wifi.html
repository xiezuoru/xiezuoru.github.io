

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3. 无线模式 &mdash; 虚谷号使用手册 1.0 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="4. 主机模式" href="2.3-pc.html" />
    <link rel="prev" title="2. U盘模式" href="2.1-dap.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> 虚谷号使用手册
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../01.about/index.html">关于虚谷号</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">虚谷号的入门教程</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="2.0-start.html">1. 快速入门</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.1-dap.html">2. U盘模式</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3. 无线模式</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">3.1. 应用场景</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wi-fi">3.2. 如何连接Wi-Fi</a></li>
<li class="toctree-l3"><a class="reference internal" href="#jupyter">3.3. Jupyter服务</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ssh">3.4. SSH服务</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">3.5. 远程桌面服务</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id4">通过jupyter安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">通过ssh安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">使用方法</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="2.3-pc.html">4. 主机模式</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.4-blend.html">5. 混合模式</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.5-beginner.html">6. 入门配置教程</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.6-run.html">7. 创客项目的开发和部署</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../03.basic/index.html">虚谷号的基本操作</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04.gpio/index.html">虚谷号的GPIO详解</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05.soft/index.html">虚谷号的软件介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06.edu/index.html">虚谷号的教育应用</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07.plus/index.html">虚谷号的扩展硬件</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08.advanced/index.html">虚谷号的高级操作</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09.case/index.html">虚谷号的案例汇集</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10.course/index.html">虚谷号的课程汇集</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">虚谷号使用手册</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">虚谷号的入门教程</a> &raquo;</li>
        
      <li>3. 无线模式</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/02.quick/2.2-wifi.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>3. 无线模式<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<p>通过U盘模式可以给虚谷号设置Wi-Fi、编程等，如果要安装Python库或者安装其他应用软件，就要借助“无线模式”了。</p>
<p>虚谷号内置了SSH和jupyter服务，在连接Wi-Fi的情况下，可以不用接鼠标键盘，即可实现对虚谷号的完全控制，如运行Python程序，给Arduino刷写代码，安装和卸载Python库文件、系统软件等。</p>
<p>新版固件中，虚谷号已经默认安装远程桌面服务。用windows自带的远程桌面访问，非常方便。</p>
<div class="section" id="id2">
<h2>3.1. 应用场景<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>在不需要接鼠标键盘的前提下，通过修改vvBoard_config.ini文件设置SSID和密码，即可用无线模式来管理虚谷号，如：</p>
<blockquote>
<div><ul class="simple">
<li><p>通过Web页面给虚谷号编写代码；</p></li>
<li><p>通过终端命令安装或者卸载软件；</p></li>
<li><p>通过终端命令安装Python库；</p></li>
<li><p>在线调试Python代码、管理进程；</p></li>
<li><p>熟悉linux命令；</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="wi-fi">
<h2>3.2. 如何连接Wi-Fi<a class="headerlink" href="#wi-fi" title="永久链接至标题">¶</a></h2>
<p>步骤1:</p>
<p>通过USB线将虚谷板（OTG口）连接上电脑，约十多秒后，电脑会出现一个名为vvBoard的U盘。用记事本打开vvBoard文件夹中的vvBoard_config.ini文件，在“SSID=”和“SSID_PSD=”输入信息。</p>
<img alt="../_images/u-driver02.jpg" src="../_images/u-driver02.jpg" />
<p>步骤2:</p>
<p>短按虚谷板的RST键，U盘会暂时消失，等到U盘图标再次出现，一般就已经连上了Wi-Fi。</p>
<p>注意：</p>
<blockquote>
<div><ul class="simple">
<li><p>目前虚谷号仅支持2.4GHz的Wi-Fi。如果Wi-Fi需要二次身份认证（如校园网等），只能通过电脑模式连接，不能用U盘模式配置。在修改完vvBoard_config文件后，如果短按RST键后没有连接成功，可以多尝试几次。如果还不行，请仔细检查vvBoard_config文件中的内容是否被正确地修改，可以尝试将虚谷号断电重启，或长按RST键5秒重启，初始化U盘文件。</p></li>
<li><p>有些公用的Wi-Fi并没有设置密码。请在“SSID_PSD=”处输入两个英文状态下的引号，即“SSID_PSD=’’”。</p></li>
</ul>
</div></blockquote>
<p>步骤3:</p>
<p>打开vvBoard文件夹中的wifi_log.txt文件，找到IP地址。如下面的信息表示IP地址是“192.168.1.192”。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">设备</span>    <span class="n">类型</span>      <span class="n">状态</span>    <span class="n">连接</span>
<span class="n">wlan0</span>   <span class="n">wifi</span>      <span class="n">已连接</span>  <span class="n">scope</span>
<span class="n">dummy0</span>  <span class="n">dummy</span>     <span class="n">未托管</span>  <span class="o">--</span>
<span class="n">lo</span>      <span class="n">loopback</span>  <span class="n">未托管</span>  <span class="o">--</span>
<span class="n">wlan0</span>     <span class="n">Link</span> <span class="n">encap</span><span class="p">:</span><span class="n">以太网</span>  <span class="n">硬件地址</span> <span class="mi">18</span><span class="p">:</span><span class="mi">93</span><span class="p">:</span><span class="mi">7</span><span class="n">f</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">94</span><span class="p">:</span><span class="mi">10</span>
  <span class="n">inet</span> <span class="n">地址</span><span class="p">:</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.192</span>  <span class="n">广播</span><span class="p">:</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.255</span>  <span class="n">掩码</span><span class="p">:</span><span class="mf">255.255</span><span class="o">.</span><span class="mf">255.0</span>
          <span class="n">inet6</span> <span class="n">地址</span><span class="p">:</span> <span class="n">fe80</span><span class="p">::</span><span class="n">bc0d</span><span class="p">:</span><span class="mi">9279</span><span class="p">:</span><span class="mi">5</span><span class="n">c93</span><span class="p">:</span><span class="mi">604</span><span class="n">c</span><span class="o">/</span><span class="mi">64</span> <span class="n">Scope</span><span class="p">:</span><span class="n">Link</span>
          <span class="n">UP</span> <span class="n">BROADCAST</span> <span class="n">RUNNING</span> <span class="n">MULTICAST</span>  <span class="n">MTU</span><span class="p">:</span><span class="mi">1500</span>  <span class="n">跃点数</span><span class="p">:</span><span class="mi">1</span>
          <span class="n">接收数据包</span><span class="p">:</span><span class="mi">7</span> <span class="n">错误</span><span class="p">:</span><span class="mi">0</span> <span class="n">丢弃</span><span class="p">:</span><span class="mi">0</span> <span class="n">过载</span><span class="p">:</span><span class="mi">0</span> <span class="n">帧数</span><span class="p">:</span><span class="mi">0</span>
          <span class="n">发送数据包</span><span class="p">:</span><span class="mi">7</span> <span class="n">错误</span><span class="p">:</span><span class="mi">0</span> <span class="n">丢弃</span><span class="p">:</span><span class="mi">0</span> <span class="n">过载</span><span class="p">:</span><span class="mi">0</span> <span class="n">载波</span><span class="p">:</span><span class="mi">0</span>
          <span class="n">碰撞</span><span class="p">:</span><span class="mi">0</span> <span class="n">发送队列长度</span><span class="p">:</span><span class="mi">1000</span>
          <span class="n">接收字节</span><span class="p">:</span><span class="mi">2465</span> <span class="p">(</span><span class="mf">2.4</span> <span class="n">KB</span><span class="p">)</span>  <span class="n">发送字节</span><span class="p">:</span><span class="mi">1163</span> <span class="p">(</span><span class="mf">1.1</span> <span class="n">KB</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>注意：</strong></p>
<p>如果在Wi-Fi配置信息中找不到IP地址，很有可能是虚谷号的DAP系统启动速度太快，而虚谷号要连接的路由器速度有点慢，导致IP地址还没来得及成功分配就启动进入了U盘模式。遇到这种情况，请再按一次RST键，让U盘文件系统重新读取一次IP信息。</p>
</div>
<div class="section" id="jupyter">
<h2>3.3. Jupyter服务<a class="headerlink" href="#jupyter" title="永久链接至标题">¶</a></h2>
<p>Jupyter的全称为Jupyter Notebook（此前被称为IPython notebook），是一个交互式笔记本，支持运行40多种编程语言。Jupyter的本质是一个Web应用程序，便于创建和共享类似笔记本的文档，支持实时代码，数学方程，可视化和 markdown。通过Jupyter，可以通过Web页面在虚谷号上运行Python代码和Linux命令。</p>
<p>步骤1:访问Jupyter</p>
<p>在浏览器输入http://【虚谷号IP】:8888，即可打开一个页面，输入密码scope。</p>
<img alt="../_images/wifi03.jpg" src="../_images/wifi03.jpg" />
<p>步骤2:运行Linux命令</p>
<p>通过“新建”-“终端”，即可打开一个仿真的终端页面，使用方法和终端基本一致。</p>
<img alt="../_images/wifi06.jpg" src="../_images/wifi06.jpg" />
<img alt="../_images/wifi07.jpg" src="../_images/wifi07.jpg" />
<p>步骤3:运行Python代码</p>
<p>运行Python代码有多种方式。</p>
<p>方式1:通过Linux命令</p>
<img alt="../_images/wifi11.jpg" src="../_images/wifi11.jpg" />
<p>方式2:通过笔记运行代码</p>
<img alt="../_images/wifi12.jpg" src="../_images/wifi12.jpg" />
<p>方式3:通过笔记运行外部文件</p>
<img alt="../_images/wifi13.jpg" src="../_images/wifi13.jpg" />
<p>注：如何关闭Jupyter功能？</p>
<p>修改config中，jupyter=0，默认jupyter=1。</p>
<p>Jupyter是学习Python程序员的好帮手，很多关于数据分析的课程，都是用Jupyter写的。更多关于Jupyter的功能应用，请参考本文档的第五部分。虚谷号团队也开发、收集了一些Jupyter的课程笔记，打开Jupyter应用即可看到。</p>
<img alt="../_images/wifi04.jpg" src="../_images/wifi04.jpg" />
</div>
<div class="section" id="ssh">
<h2>3.4. SSH服务<a class="headerlink" href="#ssh" title="永久链接至标题">¶</a></h2>
<p>虚谷号默认启动了SSH功能。通过SSH功能，用户可以安装、卸载软件，如管理jupyter或者VNC。也可以安装Python库，只要熟悉Linux命令，可以对虚谷号做任何工作。</p>
<p>以安装Python库为例，虚谷号的ip地址为192.168.1.192。</p>
<p>步骤1：连接ssh</p>
<p>在CMD窗口输入：ssh -p 22 <a class="reference external" href="mailto:scope&#37;&#52;&#48;192&#46;168&#46;1&#46;192">scope<span>&#64;</span>192<span>&#46;</span>168<span>&#46;</span>1<span>&#46;</span>192</a></p>
<img alt="../_images/wifi02.jpg" src="../_images/wifi02.jpg" />
<p>步骤2：安装Python库</p>
<img alt="../_images/wifi09.jpg" src="../_images/wifi09.jpg" />
<img alt="../_images/wifi10.jpg" src="../_images/wifi10.jpg" />
</div>
<div class="section" id="id3">
<h2>3.5. 远程桌面服务<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<p>虚谷号的“远程桌面服务”，即Xrdp服务，是Microsoft远程桌面协议 (RDP) 的开源版本，允许用户以图形方式控制远程系统。使用RDP登录到远程计算机并创建一个真实的桌面会话，就像已登录到本地计算机一样。</p>
<p>注：2020年3月的固件，将预装了“远程桌面服务”。</p>
<div class="section" id="id4">
<h3>通过jupyter安装<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h3>
<p>在jupyter的界面中，新建一个终端，然后输入如下命令：</p>
<dl>
<dt>::</dt><dd><p>sudo apt install xrdp</p>
<p>sudo apt install tightvncserver</p>
</dd>
</dl>
<img alt="../_images/2.2-wifi-10.png" src="../_images/2.2-wifi-10.png" />
<img alt="../_images/2.2-wifi-11.png" src="../_images/2.2-wifi-11.png" />
</div>
<div class="section" id="id5">
<h3>通过ssh安装<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h3>
<p>连接SSH后，同样输入如下命令：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">xrdp</span>

<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">tightvncserver</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3>使用方法<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h3>
<p>用win自带的mstsc.exe远程桌面软件即可连接，用户名和密码都是scope。这时看到的桌面和直接使用显示屏连接虚谷号看到的是一样的。</p>
<img alt="../_images/wifi21.jpg" src="../_images/wifi21.jpg" />
<img alt="../_images/wifi22.jpg" src="../_images/wifi22.jpg" />
<p><strong>远程连接问题</strong></p>
<p>如果遇到远程连接问题，请参考以下解决方案。</p>
<p><a class="reference external" href="https://github.com/vvlink/vvBoard-docs/blob/master/source/08.advanced/8.1-troubleshooting.rst">https://github.com/vvlink/vvBoard-docs/blob/master/source/08.advanced/8.1-troubleshooting.rst</a></p>
<p><strong>注意：</strong></p>
<p>如果无线模式需要修改vvBoard盘里面的东西，需要断开OTG口的连接，使用电源口供电。因为OTG口供电，系统将处于U盘模式，vvBoard盘将锁定。</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="2.3-pc.html" class="btn btn-neutral float-right" title="4. 主机模式" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="2.1-dap.html" class="btn btn-neutral float-left" title="2. U盘模式" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, vvboard

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>